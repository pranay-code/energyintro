<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Energy Domain Intro</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;600&family=Roboto:wght@300;400;500;700&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
  <script>
    window.onerror = function (msg, url, line, col, error) {
      const div = document.createElement('div');
      div.style.position = 'fixed';
      div.style.top = '0';
      div.style.left = '0';
      div.style.width = '100%';
      div.style.background = 'red';
      div.style.color = 'white';
      div.style.padding = '20px';
      div.style.zIndex = '9999';
      div.innerText = 'Error: ' + msg + '\n' + url + ':' + line + ':' + col + '\n' + (error ? error.stack : '');
      document.body.appendChild(div);
    };
    window.addEventListener('unhandledrejection', function (event) {
      const div = document.createElement('div');
      div.style.position = 'fixed';
      div.style.top = '50px';
      div.style.left = '0';
      div.style.width = '100%';
      div.style.background = 'orange';
      div.style.color = 'black';
      div.style.padding = '20px';
      div.style.zIndex = '9999';
      div.innerText = 'Promise Error: ' + event.reason;
      document.body.appendChild(div);
    });
  </script>
</head>

<body>
  <div class="background-emojis" id="emoji-bg"></div>
  <div id="app">
    <nav id="sidebar">
      <div class="logo">Energy Domain</div>
      <div id="nav-links">
        <!-- Links generated by JS -->
      </div>
    </nav>
    <main id="main-content">
      <!-- Content injected by JS -->
    </main>
  </div>
  <script type="module" src="/src/main.js"></script>
  <script>
    // Emoji Background Logic
    const emojis = ['âš¡', 'â˜€ï¸', 'ðŸ’¨', 'ðŸ”‹', 'ðŸ’¡', 'ðŸ­', 'ðŸ”Œ', 'ðŸŒ'];
    const container = document.getElementById('emoji-bg');

    function createEmoji() {
      const el = document.createElement('div');
      el.classList.add('emoji-float');
      el.textContent = emojis[Math.floor(Math.random() * emojis.length)];
      el.style.left = Math.random() * 100 + 'vw';
      el.style.animationDuration = (Math.random() * 10 + 10) + 's'; // 10-20s
      el.style.fontSize = (Math.random() * 1.5 + 1) + 'rem';
      container.appendChild(el);

      // Cleanup
      setTimeout(() => { el.remove(); }, 20000);
    }

    setInterval(createEmoji, 500);
  </script>
</body>

</html>